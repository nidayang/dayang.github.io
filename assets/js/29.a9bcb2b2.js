(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{351:function(t,r,a){"use strict";a.r(r);var _=a(6),v=Object(_.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"服务注册与发现"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#服务注册与发现"}},[t._v("#")]),t._v(" 服务注册与发现")]),t._v(" "),r("h2",{attrs:{id:"勘误"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#勘误"}},[t._v("#")]),t._v(" 勘误")]),t._v(" "),r("p",[t._v("首先，真想给自己一个大逼兜，理解错了服务注册与发现的一个关键环节。")]),t._v(" "),r("p",[t._v("也就是"),r("strong",[t._v("发现")]),t._v("这一步到底是在中间件例如nacos上实现的，还是在客户端实现的。")]),t._v(" "),r("h3",{attrs:{id:"之前的错误观念"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#之前的错误观念"}},[t._v("#")]),t._v(" 之前的错误观念")]),t._v(" "),r("p",[t._v("之前一直以为是在中间件上实现的，以为请求发往nacos或者其他的服务注册与发现的中间件，然后中间件根据注册上来的服务，利用一定的负载均衡算法实现路由转发的效果。这个理念导致我有好多的疑问？")]),t._v(" "),r("ul",[r("li",[t._v("例如服务调用的时候，利用Ribbon进行负载均衡的时候代码是写在客户端的，也和中间件没啥关系呀")]),t._v(" "),r("li",[t._v("认为服务注册就和nginx差不多。。其实根本就不是一个东西")])]),t._v(" "),r("h2",{attrs:{id:"正确的理解"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#正确的理解"}},[t._v("#")]),t._v(" 正确的理解")]),t._v(" "),r("blockquote",[r("p",[t._v("参考  "),r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/161277955",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://zhuanlan.zhihu.com/p/161277955"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("其实服务注册与发现就是利用发布-订阅模式，也就是观察者模式。")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("服务提供者和服务调用者都将自己注册到注册与发现中心上去")])]),t._v(" "),r("li",[r("p",[t._v("服务调用者发送请求的时候，会从服务注册中心获取对应服务的列表，采取一定的负载均衡的策略去调用服务")])])]),t._v(" "),r("p",[t._v("关键就是，"),r("font",{attrs:{color:"red"}},[r("strong",[t._v("其实他们的调用还是发生在调用者和提供者俩个服务器之间")])]),t._v("，并没有经过什么中间件。")],1),t._v(" "),r("p",[t._v("这边就会有一个疑问，当提供方发生变动的时候，是中间件通知给调用方，还是调用方通过轮询的方式去拉取列表？")]),t._v(" "),r("p",[t._v("我自己的理解，既然用了观察者模式，"),r("font",{attrs:{color:"red"}},[r("strong",[t._v("这个服务列表的变动当由中间件主动取推送给调用方")])]),t._v(",这边先这么理解，有错误再改。")],1),t._v(" "),r("h2",{attrs:{id:"框架"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#框架"}},[t._v("#")]),t._v(" 框架")]),t._v(" "),r("ul",[r("li",[t._v("Eureka ("),r("font",{attrs:{color:"red"}},[t._v("停更")]),t._v(")")],1),t._v(" "),r("li",[t._v("Zookeeper")]),t._v(" "),r("li",[t._v("Consul")]),t._v(" "),r("li",[t._v("Nacos")])]),t._v(" "),r("h1",{attrs:{id:"zookeeper"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper"}},[t._v("#")]),t._v(" Zookeeper")])])}),[],!1,null,null,null);r.default=v.exports}}]);