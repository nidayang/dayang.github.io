(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{320:function(t,s,a){t.exports=a.p+"assets/img/image-20220825101722904.8fa322fd.png"},321:function(t,s){t.exports="data:image/png;base64,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"},322:function(t,s,a){t.exports=a.p+"assets/img/image-20220825105830007.eaeee1c1.png"},323:function(t,s,a){t.exports=a.p+"assets/img/image-20220825104726651.ad28acd4.png"},349:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"springboot-自动装配原理浅究"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#springboot-自动装配原理浅究"}},[t._v("#")]),t._v(" SpringBoot 自动装配原理浅究")]),t._v(" "),s("p",[t._v("很多人都看过了也都写了文章，有时候自己看看也会有不一样的收获 ，当前查看源码的 springboot 2.6.4")]),t._v(" "),s("h2",{attrs:{id:"看代码前需要了解的知识"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#看代码前需要了解的知识"}},[t._v("#")]),t._v(" 看代码前需要了解的知识")]),t._v(" "),s("h3",{attrs:{id:"import-注解和-importselector-java-类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#import-注解和-importselector-java-类"}},[t._v("#")]),t._v(" @Import 注解和 ImportSelector.java 类")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("@Import(XXXX.class)注解就是导入一个 bean,它比@Bean 高级。")])]),t._v(" "),s("li",[s("p",[t._v("@Import 可以和 ImportSelector.java 配合使用用于导入 ImportSelector 类中的 selectImports 方法的返回的 String 数组的类。")])])]),t._v(" "),s("h2",{attrs:{id:"从根子上看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从根子上看"}},[t._v("#")]),t._v(" 从根子上看")]),t._v(" "),s("p",[t._v("网上的帖子都说是"),s("code",[t._v("AutoConfigurationImportSelector")]),t._v("这个类在起到自动装配的作用，他会拿到"),s("code",[t._v("META-INF")]),t._v("文件夹中的"),s("code",[t._v("Spring.factories")]),t._v("中的全限定的类名，直接打断点，看源码。")]),t._v(" "),s("h3",{attrs:{id:"enableautoconfiguration-注解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enableautoconfiguration-注解"}},[t._v("#")]),t._v(" EnableAutoConfiguration 注解")]),t._v(" "),s("p",[t._v("这边的意思就是说将 AutoConfigurationImportSelector 这个类导入 Spring 容器，然后调用 AutoConfigurationImportSelector 中的"),s("code",[t._v("selectImports")]),t._v("方法，然后导入 bean。")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Target")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ElementType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TYPE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Retention")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RetentionPolicy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RUNTIME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Documented")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Inherited")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@AutoConfigurationPackage")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AutoConfigurationImportSelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EnableAutoConfiguration")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h3",{attrs:{id:"autoconfigurationimportselector-类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#autoconfigurationimportselector-类"}},[t._v("#")]),t._v(" AutoConfigurationImportSelector 类")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[t._v("一条龙，顺着调用链路挨个方法看")])],1),t._v(" "),s("h4",{attrs:{id:"selectimports-方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#selectimports-方法"}},[t._v("#")]),t._v(" selectImports 方法")]),t._v(" "),s("p",[t._v("这个方法打断点打不进来，"),s("font",{attrs:{color:"green"}},[t._v("严重怀疑是非正常手段调用的这个方法")]),t._v("。这块留有悬念。")],1),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectImports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnnotationMetadata")]),t._v(" annotationMetadata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//查看是否开启了自动配置")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isEnabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("annotationMetadata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NO_IMPORTS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获得AutoConfigurationEntry。")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AutoConfigurationEntry")]),t._v(" autoConfigurationEntry "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAutoConfigurationEntry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("annotationMetadata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//将里面的全限定类名的list变成String数组")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringUtils")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toStringArray")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("autoConfigurationEntry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getConfigurations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h5",{attrs:{id:"isenabled-方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isenabled-方法"}},[t._v("#")]),t._v(" isEnabled 方法")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[t._v("不是很能理解把这个注解 metadata 传进来是干啥用的，传进来也没用到")])],1),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isEnabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnnotationMetadata")]),t._v(" metadata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AutoConfigurationImportSelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//spring.boot.enableautoconfiguration 这边默认是返回true 表示开启")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEnvironment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EnableAutoConfiguration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ENABLED_OVERRIDE_PROPERTY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boolean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h5",{attrs:{id:"getautoconfigurationentry-方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getautoconfigurationentry-方法"}},[t._v("#")]),t._v(" getAutoConfigurationEntry 方法")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * Return the {@link AutoConfigurationEntry} based on the {@link AnnotationMetadata}\n\t * of the importing {@link Configuration @Configuration} class.\n\t * @param annotationMetadata the annotation metadata of the configuration class\n\t * @return the auto-configurations that should be imported\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AutoConfigurationEntry")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAutoConfigurationEntry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnnotationMetadata")]),t._v(" annotationMetadata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//AutoConfigurationEntry")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isEnabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("annotationMetadata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//返回了new了一个AutoConfigurationEntry对象")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EMPTY_ENTRY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获得注解的属性")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnnotationAttributes")]),t._v(" attributes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttributes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("annotationMetadata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获得所有的全限定的类名")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" configurations "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCandidateConfigurations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("annotationMetadata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" attributes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//去重")]),t._v("\n\t\tconfigurations "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeDuplicates")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("configurations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//过滤")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" exclusions "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getExclusions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("annotationMetadata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" attributes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkExcludedClasses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("configurations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exclusions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tconfigurations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exclusions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tconfigurations "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getConfigurationClassFilter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("configurations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tfireAutoConAutoConfigurationEntry返回"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("figurationImportEvents")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("configurations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exclusions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//封装进AutoConfigurationEntry返回")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AutoConfigurationEntry")]),t._v("返回"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("configurations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exclusions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br")])]),s("p",[t._v("AutoConfigurationEntry 其实就是一个类，封装了一个 list,里面是"),s("font",{attrs:{color:"red"}},[t._v("类的全限定名")])],1),t._v(" "),s("p",[s("img",{attrs:{src:a(320),alt:"image-20220825101722904"}})]),t._v(" "),s("h3",{attrs:{id:"疑问如何拿到-meta-inf-中的全限定的类名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#疑问如何拿到-meta-inf-中的全限定的类名"}},[t._v("#")]),t._v(" 疑问如何拿到 META-INF 中的全限定的类名")]),t._v(" "),s("h4",{attrs:{id:"getcandidateconfigurations-方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getcandidateconfigurations-方法"}},[t._v("#")]),t._v(" getCandidateConfigurations 方法")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * Return the auto-configuration class names that should be considered. By default\n\t * this method will load candidates using {@link SpringFactoriesLoader} with\n\t * {@link #getSpringFactoriesLoaderFactoryClass()}.\n\t * @param metadata the source metadata\n\t * @param attributes the {@link #getAttributes(AnnotationMetadata) annotation\n\t * attributes}\n\t * @return a list of candidate configurations\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCandidateConfigurations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnnotationMetadata")]),t._v(" metadata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnnotationAttributes")]),t._v(" attributes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//关键是这个方法")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//getSpringFactoriesLoaderFactoryClass()")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//传的是interface org.springframework.boot.autoconfigure.EnableAutoConfiguration")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//getBeanClassLoader() 传的是 AppClassLoader")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" configurations "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringFactoriesLoader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadFactoryNames")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpringFactoriesLoaderFactoryClass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBeanClassLoader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notEmpty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("configurations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"No auto configuration classes found in META-INF/spring.factories. If you "')]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"are using a custom packaging, make sure that file is correct."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" configurations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br")])]),s("h4",{attrs:{id:"loadfactorynames-方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loadfactorynames-方法"}},[t._v("#")]),t._v(" loadFactoryNames 方法")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * Load the fully qualified class names of factory implementations of the\n\t * given type from {@value #FACTORIES_RESOURCE_LOCATION}, using the given\n\t * class loader.\n\t * <p>As of Spring Framework 5.3, if a particular implementation class name\n\t * is discovered more than once for the given factory type, duplicates will\n\t * be ignored.\n\t * @param factoryType the interface or abstract class representing the factory\n\t * @param classLoader the ClassLoader to use for loading resources; can be\n\t * {@code null} to use the default\n\t * @throws IllegalArgumentException if an error occurs while loading factory names\n\t * @see #loadFactories\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadFactoryNames")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" factoryType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Nullable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassLoader")]),t._v(" classLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassLoader")]),t._v(" classLoaderToUse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" classLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("classLoaderToUse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tclassLoaderToUse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringFactoriesLoader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClassLoader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" factoryTypeName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" factoryType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadSpringFactories")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("classLoaderToUse"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOrDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("factoryTypeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collections")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("emptyList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br")])]),s("p",[s("img",{attrs:{src:a(321),alt:"image-20220825105635415"}})]),t._v(" "),s("h4",{attrs:{id:"loadspringfactories-方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loadspringfactories-方法"}},[t._v("#")]),t._v(" loadSpringFactories 方法")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[t._v("关键就是 classLoader.getResources 方法来获得路径")])],1),t._v(" "),s("p",[t._v("看这个博客 "),s("a",{attrs:{href:"https://blog.csdn.net/zhangshk_/article/details/82704010",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/zhangshk_/article/details/82704010 "),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("了解一下 classLoader.getResources 这个方法，这边涉及到类加载的双亲委派的机制")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadSpringFactories")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassLoader")]),t._v(" classLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("classLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t\tresult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//关键")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Enumeration")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("URL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" urls "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" classLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FACTORIES_RESOURCE_LOCATION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("urls"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasMoreElements")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获得路径")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" urls"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//包成Urlresource 访问资源用")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UrlResource")]),t._v(" resource "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UrlResource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ok 这边就拿到了Spring.Factories文件")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),t._v(" properties "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PropertiesLoaderUtils")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadProperties")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Entry")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" entry "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" properties"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("entrySet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" factoryTypeName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" entry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getKey")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" factoryImplementationNames "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringUtils")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commaDelimitedListToStringArray")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" entry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" factoryImplementationName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" factoryImplementationNames"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\t\tresult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("computeIfAbsent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("factoryTypeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("factoryImplementationName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace all lists with unmodifiable lists containing unique elements")]),t._v("\n\t\t\tresult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replaceAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("factoryType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" implementations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" implementations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("distinct")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("collect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collectors")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("collectingAndThen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collectors")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collections")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("unmodifiableList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\tcache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("classLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" ex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IllegalArgumentException")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Unable to load factories from location ["')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FACTORIES_RESOURCE_LOCATION")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"]"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br")])]),s("p",[s("img",{attrs:{src:a(322),alt:"image-20220825105830007"}})]),t._v(" "),s("p",[s("img",{attrs:{src:a(323),alt:"image-20220825104726651"}})]),t._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("ul",[s("li",[t._v("通过这个"),s("code",[t._v("@Import(AutoConfigurationImportSelector.class)")]),t._v("实现自动装配")]),t._v(" "),s("li",[t._v("主要问题就是如何找到 META-INF 中的 spring.factories 中的配置")]),t._v(" "),s("li",[t._v("通过 classloader.getResource 方法获得路径 --》加载资源--》拿到文件中的配置")])]),t._v(" "),s("h2",{attrs:{id:"从源头上看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从源头上看"}},[t._v("#")]),t._v(" 从源头上看")]),t._v(" "),s("p",[t._v("主要是想看看从哪调用的上面 selectImport 方法，从 run 方法打断点进去。")]),t._v(" "),s("p",[t._v("到是遇到了彩蛋，AbstractApplicationContext.java 545 refresh() 有点 Bean 初始化那味。")]),t._v(" "),s("p",[t._v("参考："),s("a",{attrs:{href:"https://blog.csdn.net/it_lihongmin/article/details/106955547",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/it_lihongmin/article/details/106955547"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("SpringApplication"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("303")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("refreshContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),t._v("AbstractApplicationContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("545")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("refresh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),t._v("AbstractApplicationContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("564")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("invokeBeanFactoryPostProcessors")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.")]),t._v("AbstractApplicationContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("746")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PostProcessorRegistrationDelegate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("invokeBeanFactoryPostProcessors")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.")]),t._v("PostProcessorRegistrationDelegate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("112")]),t._v(" invokeBeanDefinitionRegistryPostProcessors\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.")]),t._v("PostProcessorRegistrationDelegate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("311")]),t._v(" postProcessor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("postProcessBeanDefinitionRegistry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.")]),t._v("ConfigurationClassPostProcessor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("247")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("processConfigBeanDefinitions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.")]),t._v("ConfigurationClassPostProcessor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("331")]),t._v(" parser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.")]),t._v("ConfigurationClassParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("175")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11.")]),t._v("ConfigurationClassParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("250")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doProcessConfigurationClass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("configClass"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sourceClass"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" filter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12.")]),t._v("ConfigurationClassParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("250")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("processImports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13.")]),t._v("ConfigurationClassParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("758")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deferredImportSelectorHandler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14.")]),t._v("ConfigurationClassParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("193")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deferredImportSelectorHandler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("process")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15.")]),t._v("ConfigurationClassParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("809")]),t._v(" grouping"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getImports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法触发 selectImports（）方法\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[t._v("中间有的循环直接过滤，然后最后到 15 步才具体调用。")]),t._v(" "),s("p",[t._v("里面有的嵌套调用，看的麻了。留个 todo。")]),t._v(" "),s("p",[s("code",[t._v("ParserStrategyUtils.instantiateClass")]),t._v("里面有一个这个方法，挺好奇的。看了看英文说明，是一个根据 class 实例化对象的方法，会执行 Aware 结尾的接口，之前 AutoConfigurationImportSelector 这个类实现了好多这个接口。")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Group")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createGroup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Nullable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Group")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Group")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" effectiveType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DefaultDeferredImportSelectorGroup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ParserStrategyUtils")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("instantiateClass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("effectiveType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Group")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConfigurationClassParser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("environment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConfigurationClassParser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resourceLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConfigurationClassParser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * Instantiate a class using an appropriate constructor and return the new\n\t * instance as the specified assignable type. The returned instance will\n\t * have {@link BeanClassLoaderAware}, {@link BeanFactoryAware},\n\t * {@link EnvironmentAware}, and {@link ResourceLoaderAware} contracts\n\t * invoked if they are implemented by the given object.\n\t * @since 5.2\n\t */")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t使用适当的构造函数实例化一个类，并返回新实例作为指定的可赋值类型。返回的实例将调用BeanClassLoaderAware、BeanFactoryAware、EnvironmentAware和ResourceLoaderAware契约(如果它们是由给定对象实现的)。Since: 5.2\n\t*/")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SuppressWarnings")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unchecked"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("instantiateClass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" clazz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" assignableTo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Environment")]),t._v(" environment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResourceLoader")]),t._v(" resourceLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BeanDefinitionRegistry")]),t._v(" registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notNull")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clazz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Class must not be null"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isAssignable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("assignableTo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" clazz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clazz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isInterface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BeanInstantiationException")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clazz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Specified class is an interface"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassLoader")]),t._v(" classLoader "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("registry "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConfigurableBeanFactory")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConfigurableBeanFactory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBeanClassLoader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" resourceLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClassLoader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" instance "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clazz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" environment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resourceLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" classLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ParserStrategyUtils")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("invokeAwareMethods")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" environment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resourceLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" classLoader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" instance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br")])]),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cloud.tencent.com/developer/article/2046636",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cloud.tencent.com/developer/article/2046636"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/qq_45673367/article/details/118700598",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/qq_45673367/article/details/118700598"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/u012420654/article/details/52668812",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/u012420654/article/details/52668812"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/Taylar_where/article/details/90547570",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/Taylar_where/article/details/90547570"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/andy_zhang2007/article/details/78549773",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/andy_zhang2007/article/details/78549773"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/Leehom_Wang/article/details/105446029",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/Leehom_Wang/article/details/105446029"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1499588",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cloud.tencent.com/developer/article/1499588"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/zhangshk_/article/details/82704010",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/zhangshk_/article/details/82704010"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/it_lihongmin/article/details/106955547",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/it_lihongmin/article/details/106955547"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);